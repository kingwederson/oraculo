<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relatório</title>
</head>
<body>
    <table id="probabilidades">
        <thead>
            <caption>
                <p>Results for <span id="numsimulacoes">100,000</span> simulations update at <span id="tempoutc">2024-12-28 12:55:12</span> UTC.</p>
            </caption>
            <tr>
                <th colspan="3">#</th>
                <th>Team</th>
                <th>Average<br>points</th><th>League<br>winner<br>1<sup>st</sup></th>
                <th>Champions<br>League<br>1<sup>st</sup> — 5<sup>th</sup></th>
                <th>Europa<br>League<br>6<sup>th</sup></th>
                <th>7<sup>th</sup></th>
                <th>Relegation<br>18<sup>th</sup> — 20<sup>th</sup></th>
                <th>#1</th>
                <th>#2</th>
                <th>#3</th>
                <th>#4</th>
                <th>#5</th>
                <th>#6</th>
                <th>#7</th>
                <th>#8</th>
                <th>#9</th>
                <th>#10</th>
                <th>#11</th>
                <th>#12</th>
                <th>#13</th>
                <th>#14</th>
                <th>#15</th>
                <th>#16</th>
                <th>#17</th>
                <th>#18</th>
                <th>#19</th>
                <th>#20</th>
            </tr>
        </thead>
        <tbody id="ligaprobabilidades">
        </tbody>
        <tfoot>
            <tr>
                <td colspan="25" style="text-align: left;">
                    <p>✓ indicates more than 99.999% chance. | ✘ indicates less than 0.001% chance.</p>
                </td>
            </tr>
        </tfoot>
    </table>

    <object type="text/html" data="std/index.html" style="width:450px;height:667px;"></object>
    
    <link rel="stylesheet" href="../../estilodetabela.css">
    <link rel="stylesheet" href="regras.css">
    <script src="ficheiro.js"></script>
    <script src="regras.js"></script>
    <script src="../../fazerprobabilidades.js"></script>
    <script src="../../classificador.js"></script>
    <script src="../../poisson.js"></script>
    <script src="../../simulador.js"></script>
    <script>
        var repeticoes = 100000
        var tabelaRR = JSON.parse(JSON.stringify(tabelaRRinicial))
        var listagem = JSON.parse(JSON.stringify(listagem0))
        fazerprobabilidades()
        simular()
        lerlistagem()
        listagem.sort(compara)
        arrumaposicao()
        var copta = JSON.parse(JSON.stringify(listagem))
        copta.sort(alfabetica)
        //inserirdados()
        var relatorio = [
            ["0"],
            [
                copta[1][1],copta[1][2],/*pts*/0,/*cam*/0,/*ucl*/0,/*uel*/0,/*not*/0,/*rel*/0,/*#1*/0,/*#2*/0,/*#3*/0,/*#4*/0,/*#5*/0,/*#6*/0,/*#7*/0,/*#8*/0,/*#9*/0,/*#10*/0,/*#11*/0,/*#12*/0,/*#13*/0,/*#14*/0,/*#15*/0,/*#16*/0,/*#17*/0,/*#18*/0,/*#19*/0,/*#20*/0
            ],
            [
                copta[2][1],copta[2][2],/*pts*/0,/*cam*/0,/*ucl*/0,/*uel*/0,/*not*/0,/*rel*/0,/*#1*/0,/*#2*/0,/*#3*/0,/*#4*/0,/*#5*/0,/*#6*/0,/*#7*/0,/*#8*/0,/*#9*/0,/*#10*/0,/*#11*/0,/*#12*/0,/*#13*/0,/*#14*/0,/*#15*/0,/*#16*/0,/*#17*/0,/*#18*/0,/*#19*/0,/*#20*/0
            ],
            [
                copta[3][1],copta[3][2],/*pts*/0,/*cam*/0,/*ucl*/0,/*uel*/0,/*not*/0,/*rel*/0,/*#1*/0,/*#2*/0,/*#3*/0,/*#4*/0,/*#5*/0,/*#6*/0,/*#7*/0,/*#8*/0,/*#9*/0,/*#10*/0,/*#11*/0,/*#12*/0,/*#13*/0,/*#14*/0,/*#15*/0,/*#16*/0,/*#17*/0,/*#18*/0,/*#19*/0,/*#20*/0
            ],
            [
                copta[4][1],copta[4][2],/*pts*/0,/*cam*/0,/*ucl*/0,/*uel*/0,/*not*/0,/*rel*/0,/*#1*/0,/*#2*/0,/*#3*/0,/*#4*/0,/*#5*/0,/*#6*/0,/*#7*/0,/*#8*/0,/*#9*/0,/*#10*/0,/*#11*/0,/*#12*/0,/*#13*/0,/*#14*/0,/*#15*/0,/*#16*/0,/*#17*/0,/*#18*/0,/*#19*/0,/*#20*/0
            ],
            [
                copta[5][1],copta[5][2],/*pts*/0,/*cam*/0,/*ucl*/0,/*uel*/0,/*not*/0,/*rel*/0,/*#1*/0,/*#2*/0,/*#3*/0,/*#4*/0,/*#5*/0,/*#6*/0,/*#7*/0,/*#8*/0,/*#9*/0,/*#10*/0,/*#11*/0,/*#12*/0,/*#13*/0,/*#14*/0,/*#15*/0,/*#16*/0,/*#17*/0,/*#18*/0,/*#19*/0,/*#20*/0
            ],
            [
                copta[6][1],copta[6][2],/*pts*/0,/*cam*/0,/*ucl*/0,/*uel*/0,/*not*/0,/*rel*/0,/*#1*/0,/*#2*/0,/*#3*/0,/*#4*/0,/*#5*/0,/*#6*/0,/*#7*/0,/*#8*/0,/*#9*/0,/*#10*/0,/*#11*/0,/*#12*/0,/*#13*/0,/*#14*/0,/*#15*/0,/*#16*/0,/*#17*/0,/*#18*/0,/*#19*/0,/*#20*/0
            ],
            [
                copta[7][1],copta[7][2],/*pts*/0,/*cam*/0,/*ucl*/0,/*uel*/0,/*not*/0,/*rel*/0,/*#1*/0,/*#2*/0,/*#3*/0,/*#4*/0,/*#5*/0,/*#6*/0,/*#7*/0,/*#8*/0,/*#9*/0,/*#10*/0,/*#11*/0,/*#12*/0,/*#13*/0,/*#14*/0,/*#15*/0,/*#16*/0,/*#17*/0,/*#18*/0,/*#19*/0,/*#20*/0
            ],
            [
                copta[8][1],copta[8][2],/*pts*/0,/*cam*/0,/*ucl*/0,/*uel*/0,/*not*/0,/*rel*/0,/*#1*/0,/*#2*/0,/*#3*/0,/*#4*/0,/*#5*/0,/*#6*/0,/*#7*/0,/*#8*/0,/*#9*/0,/*#10*/0,/*#11*/0,/*#12*/0,/*#13*/0,/*#14*/0,/*#15*/0,/*#16*/0,/*#17*/0,/*#18*/0,/*#19*/0,/*#20*/0
            ],
            [
                copta[9][1],copta[9][2],/*pts*/0,/*cam*/0,/*ucl*/0,/*uel*/0,/*not*/0,/*rel*/0,/*#1*/0,/*#2*/0,/*#3*/0,/*#4*/0,/*#5*/0,/*#6*/0,/*#7*/0,/*#8*/0,/*#9*/0,/*#10*/0,/*#11*/0,/*#12*/0,/*#13*/0,/*#14*/0,/*#15*/0,/*#16*/0,/*#17*/0,/*#18*/0,/*#19*/0,/*#20*/0
            ],
            [
                copta[10][1],copta[10][2],/*pts*/0,/*cam*/0,/*ucl*/0,/*uel*/0,/*not*/0,/*rel*/0,/*#1*/0,/*#2*/0,/*#3*/0,/*#4*/0,/*#5*/0,/*#6*/0,/*#7*/0,/*#8*/0,/*#9*/0,/*#10*/0,/*#11*/0,/*#12*/0,/*#13*/0,/*#14*/0,/*#15*/0,/*#16*/0,/*#17*/0,/*#18*/0,/*#19*/0,/*#20*/0
            ],
            [
                copta[11][1],copta[11][2],/*pts*/0,/*cam*/0,/*ucl*/0,/*uel*/0,/*not*/0,/*rel*/0,/*#1*/0,/*#2*/0,/*#3*/0,/*#4*/0,/*#5*/0,/*#6*/0,/*#7*/0,/*#8*/0,/*#9*/0,/*#10*/0,/*#11*/0,/*#12*/0,/*#13*/0,/*#14*/0,/*#15*/0,/*#16*/0,/*#17*/0,/*#18*/0,/*#19*/0,/*#20*/0
            ],
            [
                copta[12][1],copta[12][2],/*pts*/0,/*cam*/0,/*ucl*/0,/*uel*/0,/*not*/0,/*rel*/0,/*#1*/0,/*#2*/0,/*#3*/0,/*#4*/0,/*#5*/0,/*#6*/0,/*#7*/0,/*#8*/0,/*#9*/0,/*#10*/0,/*#11*/0,/*#12*/0,/*#13*/0,/*#14*/0,/*#15*/0,/*#16*/0,/*#17*/0,/*#18*/0,/*#19*/0,/*#20*/0
            ],
            [
                copta[13][1],copta[13][2],/*pts*/0,/*cam*/0,/*ucl*/0,/*uel*/0,/*not*/0,/*rel*/0,/*#1*/0,/*#2*/0,/*#3*/0,/*#4*/0,/*#5*/0,/*#6*/0,/*#7*/0,/*#8*/0,/*#9*/0,/*#10*/0,/*#11*/0,/*#12*/0,/*#13*/0,/*#14*/0,/*#15*/0,/*#16*/0,/*#17*/0,/*#18*/0,/*#19*/0,/*#20*/0
            ],
            [
                copta[14][1],copta[14][2],/*pts*/0,/*cam*/0,/*ucl*/0,/*uel*/0,/*not*/0,/*rel*/0,/*#1*/0,/*#2*/0,/*#3*/0,/*#4*/0,/*#5*/0,/*#6*/0,/*#7*/0,/*#8*/0,/*#9*/0,/*#10*/0,/*#11*/0,/*#12*/0,/*#13*/0,/*#14*/0,/*#15*/0,/*#16*/0,/*#17*/0,/*#18*/0,/*#19*/0,/*#20*/0
            ],
            [
                copta[15][1],copta[15][2],/*pts*/0,/*cam*/0,/*ucl*/0,/*uel*/0,/*not*/0,/*rel*/0,/*#1*/0,/*#2*/0,/*#3*/0,/*#4*/0,/*#5*/0,/*#6*/0,/*#7*/0,/*#8*/0,/*#9*/0,/*#10*/0,/*#11*/0,/*#12*/0,/*#13*/0,/*#14*/0,/*#15*/0,/*#16*/0,/*#17*/0,/*#18*/0,/*#19*/0,/*#20*/0
            ],
            [
                copta[16][1],copta[16][2],/*pts*/0,/*cam*/0,/*ucl*/0,/*uel*/0,/*not*/0,/*rel*/0,/*#1*/0,/*#2*/0,/*#3*/0,/*#4*/0,/*#5*/0,/*#6*/0,/*#7*/0,/*#8*/0,/*#9*/0,/*#10*/0,/*#11*/0,/*#12*/0,/*#13*/0,/*#14*/0,/*#15*/0,/*#16*/0,/*#17*/0,/*#18*/0,/*#19*/0,/*#20*/0
            ],
            [
                copta[17][1],copta[17][2],/*pts*/0,/*cam*/0,/*ucl*/0,/*uel*/0,/*not*/0,/*rel*/0,/*#1*/0,/*#2*/0,/*#3*/0,/*#4*/0,/*#5*/0,/*#6*/0,/*#7*/0,/*#8*/0,/*#9*/0,/*#10*/0,/*#11*/0,/*#12*/0,/*#13*/0,/*#14*/0,/*#15*/0,/*#16*/0,/*#17*/0,/*#18*/0,/*#19*/0,/*#20*/0
            ],
            [
                copta[18][1],copta[18][2],/*pts*/0,/*cam*/0,/*ucl*/0,/*uel*/0,/*not*/0,/*rel*/0,/*#1*/0,/*#2*/0,/*#3*/0,/*#4*/0,/*#5*/0,/*#6*/0,/*#7*/0,/*#8*/0,/*#9*/0,/*#10*/0,/*#11*/0,/*#12*/0,/*#13*/0,/*#14*/0,/*#15*/0,/*#16*/0,/*#17*/0,/*#18*/0,/*#19*/0,/*#20*/0
            ],
            [
                copta[19][1],copta[19][2],/*pts*/0,/*cam*/0,/*ucl*/0,/*uel*/0,/*not*/0,/*rel*/0,/*#1*/0,/*#2*/0,/*#3*/0,/*#4*/0,/*#5*/0,/*#6*/0,/*#7*/0,/*#8*/0,/*#9*/0,/*#10*/0,/*#11*/0,/*#12*/0,/*#13*/0,/*#14*/0,/*#15*/0,/*#16*/0,/*#17*/0,/*#18*/0,/*#19*/0,/*#20*/0
            ],
            [
                copta[20][1],copta[20][2],/*pts*/0,/*cam*/0,/*ucl*/0,/*uel*/0,/*not*/0,/*rel*/0,/*#1*/0,/*#2*/0,/*#3*/0,/*#4*/0,/*#5*/0,/*#6*/0,/*#7*/0,/*#8*/0,/*#9*/0,/*#10*/0,/*#11*/0,/*#12*/0,/*#13*/0,/*#14*/0,/*#15*/0,/*#16*/0,/*#17*/0,/*#18*/0,/*#19*/0,/*#20*/0
            ]
        ]
        console.log(`0 simulação`)
        for(let p=0;p<repeticoes;p++){
            if(p%1000==999){
                console.log(`${(p+1).toLocaleString('en-us')} simulações`)
            }
            tabelaRR = JSON.parse(JSON.stringify(tabelaRRinicial));listagem = JSON.parse(JSON.stringify(listagem0));simular();lerlistagem();listagem.sort(compara);arrumaposicao();var copta = JSON.parse(JSON.stringify(listagem));copta.sort(alfabetica);
            for(let n=1;n<equipe.length;n++){
                relatorio[n][2] += copta[n][3]
                relatorio[n][copta[n][0]+7] += 1 //Adiciona 1 à posição no campeonato
            }
            document.querySelector(`#numsimulacoes`).innerText = `${(p+1).toLocaleString('en-us')}`
        }
        relatorio.sort(ordenaprob)
        for(let n=1;n<equipe.length;n++){

            relatorio[n][3] = relatorio[n][8]
            relatorio[n][4] = relatorio[n][8]+relatorio[n][9]+relatorio[n][10]+relatorio[n][11]+relatorio[n][12]
            relatorio[n][5] = relatorio[n][13]
            relatorio[n][6] = relatorio[n][14]
            relatorio[n][7] = relatorio[n][25]+relatorio[n][26]+relatorio[n][27]

            for(let u=1;u<equipe.length;u++){
                document.querySelector(`table#probabilidades tbody tr:nth-child(${n}) td:nth-child(${u+10})`).innerHTML = `${Math.trunc(100*(relatorio[n][u+7]/repeticoes))}<span class="precisao">.${((100*(relatorio[n][u+7]/repeticoes))%1).toFixed(3).slice(-3).toString()}</span>%`
            }

            document.querySelector(`table#probabilidades tbody tr:nth-child(${n}) td:nth-child(4)`).innerHTML = `${relatorio[n][1].toLocaleString('en-us')}`;
            document.querySelector(`table#probabilidades tbody tr:nth-child(${n}) td:nth-child(5)`).innerHTML = `${(relatorio[n][2]/repeticoes).toFixed(3).toLocaleString('en-us')}`;

            document.querySelector(`table#probabilidades tbody tr:nth-child(${n}) td:nth-child(6)`).innerHTML = `${(relatorio[n][3]/repeticoes)>0.99999 ? '✓' : ''}${(relatorio[n][3]/repeticoes) < 0.00001 ? '✘' : ''} <span class="resumo">${(100 * (relatorio[n][3] / repeticoes)).toFixed(1).toLocaleString('en-us')}</span><span class="precisao">${(100 * (relatorio[n][3] / repeticoes)).toFixed(3)}</span>%`
            document.querySelector(`table#probabilidades tbody tr:nth-child(${n}) td:nth-child(7)`).innerHTML = `${(relatorio[n][4]/repeticoes)>0.99999 ? '✓' : ''}${(relatorio[n][4]/repeticoes) < 0.00001 ? '✘' : ''} <span class="resumo">${(100*(relatorio[n][4]/repeticoes)).toFixed(1).toLocaleString('en-us')}</span><span class="precisao">${(100*(relatorio[n][4]/repeticoes)).toFixed(3)}</span>%`
            document.querySelector(`table#probabilidades tbody tr:nth-child(${n}) td:nth-child(8)`).innerHTML = `${(relatorio[n][5]/repeticoes)>0.99999 ? '✓' : ''}${(relatorio[n][5]/repeticoes) < 0.00001 ? '✘' : ''} <span class="resumo">${(100*(relatorio[n][5]/repeticoes)).toFixed(1).toLocaleString('en-us')}</span><span class="precisao">${(100*(relatorio[n][5]/repeticoes)).toFixed(3)}</span>%`
            document.querySelector(`table#probabilidades tbody tr:nth-child(${n}) td:nth-child(9)`).innerHTML = `${(relatorio[n][6]/repeticoes)>0.99999 ? '✓' : ''}${(relatorio[n][6]/repeticoes) < 0.00001 ? '✘' : ''} <span class="resumo">${(100*(relatorio[n][6]/repeticoes)).toFixed(1).toLocaleString('en-us')}</span><span class="precisao">${(100*(relatorio[n][6]/repeticoes)).toFixed(3)}</span>%`
            document.querySelector(`table#probabilidades tbody tr:nth-child(${n}) td:nth-child(10)`).innerHTML = `${(relatorio[n][7]/repeticoes)>0.99999 ? '✓' : ''}${(relatorio[n][7]/repeticoes) < 0.00001 ? '✘' : ''} <span class="resumo">${(100*(relatorio[n][7]/repeticoes)).toFixed(1).toLocaleString('en-us')}</span><span class="precisao">${(100*(relatorio[n][7]/repeticoes)).toFixed(3)}</span>%`
            document.querySelector(`table#probabilidades tbody tr:nth-child(${n}) td:nth-child(3) img`).src = `${relatorio[n][0]}`
        }
        for(let n=1;n<equipe.length;n++){
            document.querySelector(`table#probabilidades tbody tr:nth-child(${n}) td:nth-child(6)`).style.backgroundColor = `rgba(255, 255, 0, ${(relatorio[n][3] / repeticoes).toFixed(3)})`;
            document.querySelector(`table#probabilidades tbody tr:nth-child(${n}) td:nth-child(7)`).style.backgroundColor = `rgba(64, 64, 255, ${(relatorio[n][4] / repeticoes).toFixed(3)})`;
            document.querySelector(`table#probabilidades tbody tr:nth-child(${n}) td:nth-child(8)`).style.backgroundColor = `rgba(255, 140, 0, ${(relatorio[n][5] / repeticoes).toFixed(3)})`;
            document.querySelector(`table#probabilidades tbody tr:nth-child(${n}) td:nth-child(9)`).style.backgroundColor = `rgba(0, 128, 0, ${(relatorio[n][6] / repeticoes).toFixed(3)})`;
            document.querySelector(`table#probabilidades tbody tr:nth-child(${n}) td:nth-child(10)`).style.backgroundColor = `rgba(255, 64, 64, ${(relatorio[n][7] / repeticoes).toFixed(3)})`;
        }
        const agora = new Date();
        const tempoutc = `${agora.getUTCFullYear()}-${agora.getUTCMonth()+1}-${agora.getUTCDate()} ${agora.getUTCHours()}:${agora.getUTCMinutes()}:${agora.getUTCSeconds()}`;
        document.querySelector(`#tempoutc`).innerText = tempoutc;
    </script>
</body>
</html>